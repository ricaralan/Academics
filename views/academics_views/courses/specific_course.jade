extends ../mainLayout
block content
    div(ng-app="courses_module")
        app-for-users-academics(user-photo="#{user.user_photo}")
            div(class="container" style="background-color:#fff;border:solid 1px rgba(0, 0, 0, .1);margin-top:23px;padding:0px;")
                container-specific-course(course="#{course}", style="position:relative;")
                div(ng-controller="publicationsCourses")
                    textarea(ng-model="textPublishInCourse", id="textPublishInCourse")
                    button(ng-click="publishInCourse()") publish
                    div(ng-repeat="publication in publications")
                        img(src="{{publication.user_photo}}")
                        p(ng-init="initSocketPublicationForComments(publication.publication_course_id)") {{publication.user_name}}: {{publication.publication_text}} 
                            div(ng-init="getCommentPublication(publication)")
                                label comentarios:
                                div(ng-repeat="comment in publication.comments")
                                    img(src="")
                                    {{comment.comment_text}}
                                div(id="contentComments-{{publication.publication_course_id}}")
                            input(placeholder="Comentar", id="comment_pub_{{publication.publication_course_id}}", ng-init="comentarPublicacion(publication.publication_course_id)")
                        

    script(type="text/javascript", src="/socket.io/socket.io.js")
    script(type="text/javascript", src="/javascripts/angular_modules/academics_module.js")
    script(type="text/javascript", src="/javascripts/angular_modules/courses_module.js")
